async function loadComponents(){try{const navbarResponse=await fetch("components/navbar.html");const navbarHtml=await navbarResponse.text();document.getElementById("navbar-placeholder").innerHTML=navbarHtml;const footerResponse=await fetch("components/footer.html");const footerHtml=await footerResponse.text();document.getElementById("footer-placeholder").innerHTML=footerHtml;feather.replace();const currentPath=window.location.pathname;if(currentPath.includes("dashboard")||currentPath.includes("login")||currentPath.includes("signup")){document.getElementById("user-dropdown").classList.remove("d-none")}else{document.getElementById("search-dropdown").classList.remove("d-none")}}catch(error){console.error("Error loading components:",error)}}const themeToggle=document.getElementById("theme-toggle");const currentTheme=localStorage.getItem("theme")?localStorage.getItem("theme"):"light";const root=document.documentElement;console.log("Theme toggle element:",themeToggle);const applyTheme=theme=>{if(theme==="dark"){root.setAttribute("data-theme","dark");if(themeToggle){themeToggle.innerHTML='<i class="mdi mdi-sun-outline theme-switcher-icon"></i>'}}else{root.removeAttribute("data-theme");if(themeToggle){themeToggle.innerHTML='<i class="mdi mdi-moon-outline theme-switcher-icon"></i>'}}};applyTheme(currentTheme);if(themeToggle){themeToggle.addEventListener("click",()=>{let theme=root.getAttribute("data-theme");if(theme==="dark"){root.removeAttribute("data-theme");localStorage.setItem("theme","light");applyTheme("light")}else{root.setAttribute("data-theme","dark");localStorage.setItem("theme","dark");applyTheme("dark")}})}else{console.error("Theme toggle element not found")}document.addEventListener("DOMContentLoaded",loadComponents);